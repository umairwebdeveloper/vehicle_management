{% extends "base.html" %}
{% load widget_tweaks %}

{% block content %}
<div class="container py-4" style="max-width: 600px;">
  <h2 class="mb-4">
    {% if view.object %}Edit Expense{% else %}Add Expense{% endif %}
  </h2>

  <form method="post">
    {% csrf_token %}

    {# Vehicle: hidden on create, select on edit #}
    <div class="mb-3">
      {% if form.vehicle.is_hidden %}
        {{ form.vehicle }}
      {% else %}
        <label for="{{ form.vehicle.id_for_label }}" class="form-label">Vehicle</label>
        {{ form.vehicle|add_class:"form-select" }}
      {% endif %}
    </div>

    <div class="mb-3">
      <label for="{{ form.date.id_for_label }}" class="form-label">Date</label>
      {{ form.date|add_class:"form-control" }}
    </div>

    <div class="mb-3">
      <label for="{{ form.category.id_for_label }}" class="form-label">Category</label>
      {{ form.category|add_class:"form-select" }}
    </div>

    <div class="mb-3">
      <label for="{{ form.amount.id_for_label }}" class="form-label">Amount (Â£)</label>
      {{ form.amount|add_class:"form-control" }}
    </div>

    <div class="mb-3">
      <label for="{{ form.notes.id_for_label }}" class="form-label">Notes</label>
      {{ form.notes|add_class:"form-control" }}
    </div>

    <button type="submit" class="btn btn-primary">
      {% if view.object %}Update{% else %}Create{% endif %}
    </button>
  </form>
</div>
{% endblock %}
